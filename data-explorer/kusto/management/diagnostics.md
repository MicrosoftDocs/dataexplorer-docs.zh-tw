---
title: 診斷資訊 - Azure 資料資源管理員 |微軟文件
description: 本文介紹 Azure 數據資源管理器中的診斷資訊。
services: data-explorer
author: orspod
ms.author: orspodek
ms.reviewer: rkarlin
ms.service: data-explorer
ms.topic: reference
ms.date: 02/13/2020
ms.openlocfilehash: ae8efdf99b7ed91285e90defed7568d2a440240d
ms.sourcegitcommit: 47a002b7032a05ef67c4e5e12de7720062645e9e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/15/2020
ms.locfileid: "81521262"
---
# <a name="diagnostic-information"></a>診斷資訊

下一個命令可用於顯示系統診斷資訊。

## <a name="show-cluster"></a>.顯示叢集

```kusto
.show cluster
```

返回群集中每個節點當前處於活動狀態的一個記錄集。  

**結果**

|輸出資料行 |類型 |描述 
|---|---|---|
|NodeId|String|標識節點(如果群集部署在 Azure 中,則為節點的 Azure RoleId)。 |
|位址|String |群集用於節點間通信的內部終結點。 
|名稱 |String |節點的內部名稱(包括計算機名稱、程序名稱和進程ID)。 
|StartTime |Datetime |節點中目前 Kusto 實體化開始的確切日期/ 時間(以 UTC 表示)。 這可用於檢測節點(或節點上運行的 Kusto)最近是否重新啟動。 
|IsAdmin |Boolean |此節點當前是否是群集的"領導者" 
|機器總記憶體  |Int64 |節點的 RAM 量。 
|機器可用記憶體  |Int64 |當前在節點上"可供使用"的RAM量。 
|ProcessorCount  |Int32 |節點上的處理器數量。 
|環境描述  |字串 |有關節點環境(例如升級/故障域)的其他資訊,以 JSON 序列化。 

**範例**

```kusto
.show cluster
```

NodeId|位址|名稱|StartTime|IsAdmin|機器總記憶體|機器可用記憶體|ProcessorCount|環境描述
---|---|---|---|---|---|---|---|---
庫斯托.Azure.Svc_IN_1|net.tcp://100.112.150.30:23107/|庫斯特托.Azure.Svc_IN_4/RD000D3AB1E9BD/WaWorkerHost/3820|2016-01-15 02:00:22.6522152|True|274877435904|247797796864|16|{"更新域":0,"故障域":0}
庫斯托.Azure.Svc_IN_3|net.tcp://100.112.154.34:23107/|庫斯特托.Azure.Svc_IN_3/RD000D3AB1E062/WaWorkerHost/2760|2016-01-15 05:52:52.1434683|False|274877435904|258740346880|16|{"更新域":1,"故障域":1}
庫斯托.Azure.Svc_IN_2|net.tcp://100.112.128.40:23107/|庫斯特托.Azure.Svc_IN_2/RD000D3AB1E054/WaWorkerHost/3776|2016-01-15 07:17:18.0699790|False|274877435904|244232339456|16|{"更新域":2,"故障域":2}
庫斯托.Azure.Svc_IN_0|net.tcp://100.112.138.15:23107/|庫斯特托.Azure.Svc_IN_0/RD000D3AB0D6C6/WaWorkerHost/3208|2016-01-15 09:46:36.9865016|False|274877435904|238414581760|16|{"更新域":3,"故障域":3}


## <a name="show-diagnostics"></a>.顯示診斷

```kusto
.show diagnostics
```

返回有關 Kusto 群集運行狀況狀態的資訊。
 
**傳回**

|輸出參數 |類型 |描述|
|-----------------|-----|-----------| 
|是健康的|Boolean|群集是否被視為正常。
|需要進行尺規延伸|Boolean|是否應增加群集的大小(添加更多計算節點)。 
|機器總計|Int64|群集中的計算機數。
|機器離線|Int64|當前離線(未回應)的電腦數。
|節點上次重新啟動|Datetime|上次重新啟動群集中的任何節點。
|管理員上次選舉on|Datetime|群集管理員角色上次擁有權更改的時間。
|記憶體載入因數|Double|叢集相對於其容量(即 100.0)持有的資料量
|範圍總計|Int64|群集當前在所有資料庫和所有表中具有的數據範圍的總數。
|Reserved|Int64|
|Reserved|Int64|
|實體基礎基礎資料容量|Int64| 使 ClusterData 容量因數低於 80 所需的實例數(僅當所有電腦大小相同時才有效)。
|原始資料總大小|Int64|最初引入的資料的總大小
|總範圍大小|Int64|儲存資料的總大小(壓縮和索引後)
|IngestionsLoadFactor|Double|叢集引入容量的利用率百分比(可以使用 .show 容量指令看到)
|在進步中攝錄|Int64|當前正在執行的操作數。
|攝入成功率|Double|在過去 10 分鐘內成功完成的引入操作的百分比。
|合併進度|Int64|當前正在完成的擴展盤區合併操作數。
|BuildVersion|String|部署到群集的 Kusto 軟體版本。
|組建時間|Datetime|此 Kusto 軟體版本的生成時間。
|ClusterDataCapacityFactor|Double|群集數據容量利用率的百分比。 它計算為 SUM(範圍大小數據)/SUM(SSD 快取大小)。
|需要資料加熱|Boolean|內部:是否應執行群集的預熱查詢(以便將數據引入本地 SSD 快取)。 
|資料加熱LastRunon|Datetime|上次在群組執行中執行 .warm 資料時
|合併成功率|Double|在過去 10 分鐘內成功完成的合併操作的百分比。
|不健康的原因|String|指定群組不正常原因的字串 
|需要注意|Boolean|叢集是否需要操作團隊注意
|需要注意的原因|String|指定群組需要注意的原因的字串
|ProductVersion|String|包含產品資訊的字串(分支、版本等)
|失敗動作|Int64|超過 10 分鐘的引入操作失敗數
|失敗的合併作業|Int64|超過 1 小時的失敗合併操作數
|最大範圍在單一表中|Int64|表中的最大範圍數(表與 Max 範圍)
|具有最大範圍的表|String|具有最大延伸碟區數的表(最大範圍在單表中)
|暖度大小|Double|熱快取中延伸盤區的總大小
|資料庫數|Int32|群組的資料庫數

## <a name="show-capacity"></a>.顯示容量 

```kusto
.show capacity
```

返回每個資源的估計群集容量的計算。 
 
**結果**

|輸出參數 |類型 |描述 
|---|---|---
|資源 |String |資源名稱。 
|總計 |Int64 |可用的「資源」類型的總資源量(例如併發引入量) 
|已耗用 |Int64 |目前消耗的資源型態的資源量 
|剩餘 |Int64 |類型為「資源」的剩餘資源量 
 
**範例**

|資源 |總計 |已耗用 |剩餘 
|---|---|---|---
|攝入 |576 |1 |575 

## <a name="show-operations"></a>.顯示操作 

返回自選擇新管理節點以來具有所有管理操作的表。 

|||
|---|---| 
|`.show` `operations`              |傳回群組已處理或處理的所有操作 
|`.show``operations`*操作代碼*|傳回特定識別碼的作業狀態 
|`.show`*OperationId1*`(`操作代碼代碼代碼2 ...) `operations` `,` * * `,`|傳回指定的指示的作業狀態

**結果**
 
|輸出參數 |類型 |描述 
|---|---|---
|Id |String |操作標識碼。 
|作業 |String |管理員命令別名 
|NodeId |String |如果指令具有遠端執行 (例如資料化)- NodeId 將包含正在執行的遠端節點的 ID 
|啟動 |Datetime |動作開始的日期/時間(以 UTC 表示) 
|上次更新時間 |Datetime |上次更新操作的日期/時間(以 UTC 表示)(可以是操作內的一個步驟,也可以是完成步驟) 
|Duration |Datetime |上次更新開啟與啟動時間之間的時間跨度 
|State |String |命令狀態:可以具有「進度」、「已完成」或「失敗」的值 
|狀態 |String |其他說明字串,其中一個儲存失敗操作的錯誤 
 
**範例**
 
|Id |作業 |節點識別碼 |已啟動 |上次更新時間 |Duration |State |狀態 
|--|--|--|--|--|--|--|--
|3827def6-0773-4f2a-859e-c02cf395失聰 |架構顯示 | |2015-01-06 08:47:01.0000000 |2015-01-06 08:47:01.0000000 |0001-01-01 00:00:00.0000000 |Completed | 
|841fafa4-076a-4cba-9300-4836da0d9c75 |資料擷取 |庫斯托.Azure.Svc_IN_1 |2015-01-06 08:47:02.0000000 |2015-01-06 08:48:19.0000000 |0001-01-01 00:01:17.0000000 |Completed | 
|e198c519-5263-4629-a158-8d68f7a1022f |操作顯示 | |2015-01-06 08:47:18.0000000 |2015-01-06 08:47:18.0000000 |0001-01-01 00:00:00.0000000 |Completed | 
|a9f287a1-f3e6-4154-ad18-b86438da0929 |範圍刪除 | |2015-01-11 08:41:01.0000000 |0001-01-01 00:00:00.0000000 |0001-01-01 00:00:00.0000000 |InProgress | 
|9edb3ecc-f4b4-4738-87e1-648eed2bd998 |資料擷取 | |2015-01-10 14:57:41.0000000 |2015-01-10 14:57:41.0000000 |0001-01-01 00:00:00.0000000 |失敗 |集合已修改;枚舉操作可能無法執行。 